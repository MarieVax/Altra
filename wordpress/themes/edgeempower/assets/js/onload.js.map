{"version":3,"sources":["onload.js","../../node_modules/bigpicture/dist/BigPicture.min.js","../../node_modules/tua-body-scroll-lock/dist/tua-bsl.umd.min.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;ACHA;AACA;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AFAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"onload.js","sourcesContent":["// This file contains all the scripts that must be loaded on page load\n// This file should be excluded from Delay JS function in WP Rocket settings\n// Scripts that can be delayed should go to main.js\n\n//= include ../../node_modules/bigpicture/dist/BigPicture.min.js\n//= include ../../node_modules/tua-body-scroll-lock/dist/tua-bsl.umd.min.js\n\n// Variables used in this file\nconst headerElem = document.querySelector('.js-header');\nconst panelTrigger = document.querySelector('.js-menu-toggle');\nconst menu_available = (typeof (panelTrigger) != 'undefined' && panelTrigger != null) ? true : false;\nconst adminBar = document.getElementById('wpadminbar');\nconst adminBarEnabled = document.body.contains(adminBar) ? true : false;\nconst scrollTopButton = document.querySelector('.c-scroll-to-top');\nconst mobileMenuListItems = document.querySelectorAll('ul.c-mobile-menu li');\nconst mobileMenuLinks = document.querySelectorAll('ul.c-mobile-menu li > a');\nconst customViewportCorrectionVariable = 'vh';\nconst body = document.querySelector('body');\nconst footer = document.querySelector('.js-footer');\n\n// Debounce function\n// Example: window.addEventListener('resize', debounce(function() { console.log('Resized'); }, 250));\nfunction debounce(func, delay) {\n  let debounceTimer = null;\n  \n  return function() {\n    // Clear the existing timer if any\n    if(debounceTimer) {\n      clearTimeout(debounceTimer);\n    }\n    // Set a new timer\n    debounceTimer = setTimeout(() => {\n      func.apply(this, arguments);\n    }, delay);\n  };\n}\n\n// Throttle function\nfunction throttle(func, delay) {\n  let lastCall = 0;\n  return function () {\n    const now = new Date().getTime();\n    if (now - lastCall < delay) {\n      return;\n    }\n    lastCall = now;\n    return func.apply(this, arguments);\n  };\n}\n\n// Throttle and debounce function (useful when you must run the last call)\nfunction throttleAndDebounce(func, throttleDelay, debounceDelay) {\n  let lastCall = 0;\n  let debounceTimer = null;\n\n  return function () {\n    const now = new Date().getTime();\n\n    // Clearing the previous debounce timer, if any\n    if (debounceTimer) {\n      clearTimeout(debounceTimer);\n    }\n\n    // Setting the debounce timer for the last call\n    debounceTimer = setTimeout(() => {\n      func.apply(this, arguments);\n    }, debounceDelay);\n\n    // Throttle - execution of the function if the specified time has elapsed\n    if (now - lastCall >= throttleDelay) {\n      lastCall = now;\n      return func.apply(this, arguments);\n    }\n  };\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function(event) {\n\n  /* Image Lightbox\n  ------------------------------------------------------------------------------*/\n  document.querySelectorAll('a[href$=jpg], a[href$=jpeg], a[href$=jpe], a[href$=png], a[href$=gif]').forEach(function(element) {\n    let self = { componentEl: element, componentHref: element.getAttribute('href') };\n\n    self.options = {\n      el: self.componentEl,\n      imgSrc: self.componentHref,\n      animationEnd: () => {\n        bodyScrollLock.lock({ overflowType: 'clip' });\n      },\n      onClose: () => {\n        bodyScrollLock.unlock({ overflowType: 'clip' });\n      },\n    };\n\n    self.options = Object.assign(\n      self.options,\n      self.componentEl.dataset.lightbox ? JSON.parse(self.componentEl.dataset.lightbox) : {}\n    );\n\n    self.componentEl.addEventListener('click', function(event) {\n      event.preventDefault();\n\n      BigPicture(self.options);\n    });\n  });\n\n  /* Video Lightbox\n  ------------------------------------------------------------------------------*/\n  document.querySelectorAll('.js-video-lightbox, .popup-youtube, .popup-video').forEach(function(element) {\n    let self = { componentEl: element, videoID: null, mediaType: null, componentHref: element.getAttribute('href') };\n\n    self.options = {\n      el: self.componentEl,\n      dimensions: [1680, 945],\n      animationEnd: () => {\n        bodyScrollLock.lock({ overflowType: 'clip' });\n      },\n      onClose: () => {\n        bodyScrollLock.unlock({ overflowType: 'clip' });\n      },\n    };\n\n    self.parseYouTubeID = function(url) {\n      let match = url.match(/^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/);\n\n      return (match && match[7].length == 11) ? match[7] : false;\n    }\n\n    self.parseVimeoID = function(url) {\n      let regExp = /^.*(vimeo\\.com\\/)((channels\\/[A-z]+\\/)|(groups\\/[A-z]+\\/videos\\/))?([0-9]+)/;\n      let parseUrl = regExp.exec(url);\n\n      return (parseUrl[5]) ? parseUrl[5] : false;\n    }\n\n    if(self.componentEl.getAttribute('href').includes('youtu')) {\n      self.mediaType = 'yt';\n      self.videoID = self.parseYouTubeID(self.componentEl.getAttribute('href'));\n      self.options.ytSrc = self.videoID;\n      self.options.ytNoCookie = true;\n    }\n    else if(self.componentEl.getAttribute('href').includes('vimeo')) {\n      self.mediaType = 'vimeo';\n      self.videoID = self.parseVimeoID(self.componentEl.getAttribute('href'));\n      self.options.vimeoSrc = self.videoID;\n    }\n    else {\n      self.mediaType = 'vid';\n      self.videoID = self.componentEl.getAttribute('href');\n      self.options.vidSrc = self.videoID;\n    }\n\n    self.options = Object.assign(\n      self.options,\n      self.componentEl.dataset.lightbox ? JSON.parse(self.componentEl.dataset.lightbox) : {}\n    );\n\n    self.componentEl.addEventListener('click', function(event) {\n      event.preventDefault();\n\n      BigPicture(self.options);\n    });\n  });\n\n  /* Mobile menu, Off canvas panel\n  ------------------------------------------------------------------------------*/\n\n  // Run mobile menu code only if mobile menu is available\n  if (menu_available) {\n\n    // Cache elements and properties\n    const navWrap = document.querySelector('.js-nav-wrap');\n    const panelCover = document.querySelector('.js-cover');\n    const panel = document.querySelector('.js-nav');\n    const lazyLoadElements = document.querySelectorAll('.js-lazyload-after-panel-open');\n    const menuItems = document.querySelectorAll('.menu-item a');\n\n    // Custom Lazy load for panel images\n    const lazyLoad = () => {\n      lazyLoadElements.forEach((el) => {\n        el.setAttribute('src', el.getAttribute('data-src'));\n        el.classList.remove('js-lazyload-after-panel-open');\n      });\n    };\n\n    // Event listener for custom lazy loading on mouseover\n    panelTrigger.addEventListener('mouseover', lazyLoad);\n\n    // Setting top padding for menu. It should be the same as website header element.\n    const setMenuTopPadding = () => {\n      const paddingValue = adminBarEnabled ? headerElem.offsetHeight + adminBar.offsetHeight : headerElem.offsetHeight;\n      navWrap.style.paddingTop = `${paddingValue}px`;\n    };\n    setMenuTopPadding();\n\n    // Function for showing the mobile menu\n    const showPanel = () => {\n      setMenuTopPadding();\n      document.body.style.overflow = 'hidden';\n      panelTrigger.classList.add('is-active');\n      panelCover.classList.remove('pointer-events-none', 'opacity-0');\n      panel.classList.remove('-translate-y-full', 'xs:translate-y-0', 'xs:translate-x-full');\n      panel.classList.add('shadow-xl');\n    };\n\n    // Function for hiding the mobile menu\n    const hidePanel = () => {\n      panelTrigger.classList.remove('is-active');\n      panelCover.classList.add('pointer-events-none', 'opacity-0');\n      document.body.style.overflow = '';\n      panel.classList.add('-translate-y-full', 'xs:translate-y-0', 'xs:translate-x-full');\n      panel.classList.remove('shadow-xl');\n    };\n\n    // Open panel after click in hamburger icon\n    panelTrigger.addEventListener('click', () => {\n      panelCover.classList.contains('pointer-events-none') ? showPanel() : hidePanel();\n    });\n\n    // Close panel after click in background cover\n    panelCover.addEventListener('click', hidePanel);\n\n    // Close panel after pressing escape button on keyboard\n    document.addEventListener('keyup', (e) => {\n      if (e.key === 'Escape' && panelTrigger.classList.contains('is-active')) {\n        hidePanel();\n      }\n    });\n\n    // Close panel after clicking on menu item and link is anchor\n    document.addEventListener('click', (e) => {\n      if (e.target.closest('.menu-item a') && panelTrigger.classList.contains('is-active')) {\n        const menuItem = e.target.closest('.menu-item');\n        if (!menuItem.classList.contains('menu-item-has-children')) {\n          hidePanel();\n        }\n      }\n    });\n\n    // Hide mobile menu if user is changing browser width\n    window.addEventListener('resize', debounce(hidePanel, 1000));\n  }\n\n  // Function that controls the status of the header depending on the distance from the top of the page\n  function setHeaderStatus(scroll) {\n    if (scroll >= 1) {\n      headerElem.classList.add('js-header--scrolled');\n    } else {\n      headerElem.classList.remove('js-header--scrolled');\n    }\n  }\n\n  // Set status during the scroll\n  if (headerElem) {\n    // Set status when page loads\n    setHeaderStatus(window.scrollY);\n  \n    // Set status while scrolling with limit on number of calls\n    document.addEventListener('scroll', throttleAndDebounce(function () {\n      setHeaderStatus(window.scrollY);\n    }, 1000, 100)); // throttleDelay: 1000 ms, debounceDelay: 300 ms\n  }\n\n  /* Scroll to top\n  ------------------------------------------------------------------------------*/\n\n  // Only proceed if the scroll-to-top button exists\n  if (scrollTopButton) {\n\n    // Function to show or hide the scroll-to-top button based on scroll position\n    const showHideScrollTopButton = () => {\n      if (window.scrollY > 200) {\n        scrollTopButton.classList.add('show');\n      } else {\n        scrollTopButton.classList.remove('show');\n      }\n    };\n\n    // Listen for scroll events with throttle\n    window.addEventListener('scroll', throttle(showHideScrollTopButton, 250));\n\n    // Function to handle the click event and scroll to the top\n    const scrollToTop = (event) => {\n      event.preventDefault();\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n    };\n\n    // Listen for click events on the scroll-to-top button\n    scrollTopButton.addEventListener('click', scrollToTop);\n  }\n\n  /* Accordion in mobile menu\n  ------------------------------------------------------------------------------*/\n\n  // Add 'parentLi' class to list items that have sub-menus\n  mobileMenuListItems.forEach(item => {\n    if (item.querySelector('ul')) {\n      item.classList.add('parentLi');\n    }\n  });\n\n  // Add 'sub-menu' class to all nested ul elements\n  mobileMenuListItems.forEach(item => {\n    const subMenu = item.querySelector('ul');\n    if (subMenu) {\n      subMenu.classList.add('sub-menu');\n    }\n  });\n\n  // Toggle class and slide toggle on click\n  mobileMenuLinks.forEach(link => {\n    link.addEventListener('click', function(event) {\n      event.preventDefault();\n      const parentLi = this.parentNode;\n\n      if (parentLi.classList.contains('parentLi')) {\n        this.classList.toggle('expanded');\n        const subMenu = parentLi.querySelector('.sub-menu');\n\n        // Toggle expanded class to trigger CSS transition\n        subMenu.classList.toggle('expanded');\n      }\n    });\n  });\n\n/* Hide and show menu on scroll\n------------------------------------------------------------------------------*/\n\n  if (headerElem && headerElem.dataset.behaviorWhenScrollingDown === 'hide') {\n\n    let prevScroll = window.scrollY || document.documentElement.scrollTop;\n    let curScroll;\n    let direction = 0;\n    let prevDirection = 0;\n\n    const checkScroll = function() {\n      // Find the direction of scroll: 0 - initial, 1 - up, 2 - down\n      curScroll = window.scrollY || document.documentElement.scrollTop;\n      if (curScroll > prevScroll) {\n        direction = 2;\n      } else if (curScroll < prevScroll) {\n        direction = 1;\n      }\n\n      if (direction !== prevDirection) {\n        toggleHeader(direction, curScroll);\n      }\n\n      prevScroll = curScroll;\n    };\n\n    const toggleHeader = function(direction, curScroll) {\n      // Replace 52 with the height of your header in pixels\n      if (direction === 2 && curScroll > 52) {\n        headerElem.classList.add('-translate-y-full');\n        prevDirection = direction;\n      } else if (direction === 1) {\n        headerElem.classList.remove('-translate-y-full');\n        prevDirection = direction;\n      }\n    };\n\n    // Add an event listener using the throttle and debounce function\n    window.addEventListener('scroll', throttleAndDebounce(checkScroll, 100, 1000));\n  }\n\n/* Viewport height CSS variable\n------------------------------------------------------------------------------*/\n\n  function setViewportProperty(doc) {\n    var prevClientHeight;\n    var customVar = '--' + (customViewportCorrectionVariable || 'vh');\n\n    // The handleResize function\n    function handleResize() {\n      var clientHeight = doc.clientHeight;\n      if (clientHeight === prevClientHeight) return;\n      requestAnimationFrame(function updateViewportHeight() {\n        doc.style.setProperty(customVar, (clientHeight * 0.01) + 'px');\n        prevClientHeight = clientHeight;\n      });\n    }\n\n    // Initial call to handleResize\n    handleResize();\n    \n    // Return debounced function to optimize performance\n    return debounce(handleResize, 250);\n  }\n\n  // Attach the event listener with the debounced function\n  window.addEventListener('resize', setViewportProperty(document.documentElement));\n\n/* If the content is insufficient to fill the entire screen, ensure that the footer expands to occupy the remaining space.\n------------------------------------------------------------------------------*/\n\n  // Function to adjust the footer height\n  function fixFooter() {\n    // Get the initial sizes\n    const initialBodyHeight = document.body.offsetHeight;\n    const windowHeight = window.innerHeight;\n\n    // Reset the footer's minHeight before recalculating\n    footer.style.minHeight = 'auto';\n\n    // Recalculate the body height after reset\n    const recalculatedBodyHeight = document.body.offsetHeight;\n\n    // Condition to check and adjust the footer height\n    if (recalculatedBodyHeight < windowHeight) {\n      const footerHeight = footer.offsetHeight;\n      const contentHeight = recalculatedBodyHeight - footerHeight;\n      const newFooterHeight = windowHeight - contentHeight;\n\n      // Apply the new height to the footer\n      footer.style.minHeight = `${newFooterHeight}px`;\n    }\n  }\n\n  // Call fixFooter initially\n  fixFooter();\n\n  // Debounced resize event\n  window.addEventListener('resize', debounce(function() {\n    fixFooter();\n  }, 250));  // 250 ms debounce time\n\n});","var BigPicture=function(){var t,n,e,o,i,r,a,c,p,s,l,d,u,f,m,b,g,h,x,v,y,w,_,T,k,M,S,L,E,A,C,H,z,I=[],D={},O=\"appendChild\",V=\"createElement\",N=\"removeChild\";function W(){var n=t.getBoundingClientRect();return\"transform:translate3D(\"+(n.left-(e.clientWidth-n.width)/2)+\"px, \"+(n.top-(e.clientHeight-n.height)/2)+\"px, 0) scale3D(\"+t.clientWidth/o.clientWidth+\", \"+t.clientHeight/o.clientHeight+\", 0)\"}function q(t){var n=A.length-1;if(!u){if(t>0&&E===n||t<0&&!E){if(!z.loop)return j(i,\"\"),void setTimeout(j,9,i,\"animation:\"+(t>0?\"bpl\":\"bpf\")+\" .3s;transition:transform .35s\");E=t>0?-1:n+1}if([(E=Math.max(0,Math.min(E+t,n)))-1,E,E+1].forEach(function(t){if(t=Math.max(0,Math.min(t,n)),!D[t]){var e=A[t].src,o=document[V](\"IMG\");o.addEventListener(\"load\",F.bind(null,e)),o.src=e,D[t]=o}}),D[E].complete)return B(t);u=1,j(m,\"opacity:.4;\"),e[O](m),D[E].onload=function(){y&&B(t)},D[E].onerror=function(){A[E]={error:\"Error loading image\"},y&&B(t)}}}function B(n){u&&(e[N](m),u=0);var r=A[E];if(r.error)alert(r.error);else{var a=e.querySelector(\"img:last-of-type\");j(i=o=D[E],\"animation:\"+(n>0?\"bpfl\":\"bpfr\")+\" .35s;transition:transform .35s\"),j(a,\"animation:\"+(n>0?\"bpfol\":\"bpfor\")+\" .35s both\"),e[O](i),r.el&&(t=r.el)}C.innerHTML=E+1+\"/\"+A.length,X(A[E].caption),M&&M([i,A[E]])}function P(){var t,n,e=.95*window.innerHeight,o=.95*window.innerWidth,i=z.dimensions||[1920,1080],r=i[0],a=i[1],p=a/r;p>e/o?n=(t=Math.min(a,e))/p:t=(n=Math.min(r,o))*p,c.style.cssText+=\"width:\"+n+\"px;height:\"+t+\"px;\"}function G(t){~[1,4].indexOf(o.readyState)?(U(),setTimeout(function(){o.play()},99)):o.error?U(t):f=setTimeout(G,35,t)}function R(n){z.noLoader||(n&&j(m,\"top:\"+t.offsetTop+\"px;left:\"+t.offsetLeft+\"px;height:\"+t.clientHeight+\"px;width:\"+t.clientWidth+\"px\"),t.parentElement[n?O:N](m),u=n)}function X(t){t&&(g.innerHTML=t),j(b,\"opacity:\"+(t?\"1;pointer-events:auto\":\"0\"))}function F(t){!~I.indexOf(t)&&I.push(t)}function U(t){if(u&&R(),T&&T(),\"string\"==typeof t)return $(),z.onError?z.onError():alert(\"Error: The requested \"+t+\" could not be loaded.\");_&&F(s),o.style.cssText+=W(),j(e,\"opacity:1;pointer-events:auto\"),k&&(k=setTimeout(k,410)),v=1,y=!!A,setTimeout(function(){o.style.cssText+=\"transition:transform .35s;transform:none\",h&&setTimeout(X,250,h)},60)}function Y(t){var n=t?t.target:e,i=[b,x,r,a,g,L,S,m];n.blur(),w||~i.indexOf(n)||(o.style.cssText+=W(),j(e,\"pointer-events:auto\"),setTimeout($,350),clearTimeout(k),v=0,w=1)}function $(){if((o===c?p:o).removeAttribute(\"src\"),document.body[N](e),e[N](o),j(e,\"\"),j(o,\"\"),X(0),y){for(var t=e.querySelectorAll(\"img\"),n=0;n<t.length;n++)e[N](t[n]);u&&e[N](m),e[N](C),y=A=0,D={},H||e[N](S),H||e[N](L),i.onload=U,i.onerror=U.bind(null,\"image\")}z.onClose&&z.onClose(),w=u=0}function j(t,n){t.style.cssText=n}return function(w){var D;return n||function(t){var s,d;function f(t){var n=document[V](\"button\");return n.className=t,n.innerHTML='<svg viewBox=\"0 0 48 48\"><path d=\"M28 24L47 5a3 3 0 1 0-4-4L24 20 5 1a3 3 0 1 0-4 4l19 19L1 43a3 3 0 1 0 4 4l19-19 19 19a3 3 0 0 0 4 0v-4L28 24z\"/></svg>',n}function h(t,n){var e=document[V](\"button\");return e.className=\"bp-lr\",e.innerHTML='<svg viewBox=\"0 0 129 129\" height=\"70\" fill=\"#fff\"><path d=\"M88.6 121.3c.8.8 1.8 1.2 2.9 1.2s2.1-.4 2.9-1.2a4.1 4.1 0 0 0 0-5.8l-51-51 51-51a4.1 4.1 0 0 0-5.8-5.8l-54 53.9a4.1 4.1 0 0 0 0 5.8l54 53.9z\"/></svg>',j(e,n),e.onclick=function(n){n.stopPropagation(),q(t)},e}var w=document[V](\"STYLE\");w.innerHTML=\"#bp_caption,#bp_container{bottom:0;left:0;right:0;position:fixed;opacity:0}#bp_container>*,#bp_loader{position:absolute;right:0;z-index:10}#bp_container,#bp_caption,#bp_container svg{pointer-events:none}#bp_container{top:0;z-index:9999;background:\"+(t&&t.overlayColor?t.overlayColor:\"rgba(0,0,0,.7)\")+\";opacity:0;transition:opacity .35s}#bp_loader{top:0;left:0;bottom:0;display:flex;align-items:center;cursor:wait;background:0;z-index:9}#bp_loader svg{width:50%;max-width:300px;max-height:50%;margin:auto;animation:bpturn 1s infinite linear}#bp_aud,#bp_container img,#bp_sv,#bp_vid{user-select:none;max-height:96%;max-width:96%;top:0;bottom:0;left:0;margin:auto;box-shadow:0 0 3em rgba(0,0,0,.4);z-index:-1}#bp_sv{background:#111}#bp_sv svg{width:66px}#bp_caption{font-size:.9em;padding:1.3em;background:rgba(15,15,15,.94);color:#fff;text-align:center;transition:opacity .3s}#bp_aud{width:650px;top:calc(50% - 20px);bottom:auto;box-shadow:none}#bp_count{left:0;right:auto;padding:14px;color:rgba(255,255,255,.7);font-size:22px;cursor:default}#bp_container button{position:absolute;border:0;outline:0;background:0;cursor:pointer;transition:all .1s}#bp_container>.bp-x{padding:0;height:41px;width:41px;border-radius:100%;top:8px;right:14px;opacity:.8;line-height:1}#bp_container>.bp-x:focus,#bp_container>.bp-x:hover{background:rgba(255,255,255,.2)}.bp-x svg,.bp-xc svg{height:21px;width:20px;fill:#fff;vertical-align:top;}.bp-xc svg{width:16px}#bp_container .bp-xc{left:2%;bottom:100%;padding:9px 20px 7px;background:#d04444;border-radius:2px 2px 0 0;opacity:.85}#bp_container .bp-xc:focus,#bp_container .bp-xc:hover{opacity:1}.bp-lr{top:50%;top:calc(50% - 130px);padding:99px 0;width:6%;background:0;border:0;opacity:.4;transition:opacity .1s}.bp-lr:focus,.bp-lr:hover{opacity:.8}@keyframes bpf{50%{transform:translatex(15px)}100%{transform:none}}@keyframes bpl{50%{transform:translatex(-15px)}100%{transform:none}}@keyframes bpfl{0%{opacity:0;transform:translatex(70px)}100%{opacity:1;transform:none}}@keyframes bpfr{0%{opacity:0;transform:translatex(-70px)}100%{opacity:1;transform:none}}@keyframes bpfol{0%{opacity:1;transform:none}100%{opacity:0;transform:translatex(-70px)}}@keyframes bpfor{0%{opacity:1;transform:none}100%{opacity:0;transform:translatex(70px)}}@keyframes bpturn{0%{transform:none}100%{transform:rotate(360deg)}}@media (max-width:600px){.bp-lr{font-size:15vw}}\",document.head[O](w),(e=document[V](\"DIV\")).id=\"bp_container\",e.onclick=Y,l=f(\"bp-x\"),e[O](l),\"ontouchend\"in window&&window.visualViewport&&(H=1,e.ontouchstart=function(t){var n=t.touches,e=t.changedTouches;d=n.length>1,s=e[0].pageX},e.ontouchend=function(t){var n=t.changedTouches;if(y&&!d&&window.visualViewport.scale<=1){var e=n[0].pageX-s;e<-30&&q(1),e>30&&q(-1)}}),i=document[V](\"IMG\"),(r=document[V](\"VIDEO\")).id=\"bp_vid\",r.setAttribute(\"playsinline\",1),r.controls=1,r.loop=1,(a=document[V](\"audio\")).id=\"bp_aud\",a.controls=1,a.loop=1,(C=document[V](\"span\")).id=\"bp_count\",(b=document[V](\"DIV\")).id=\"bp_caption\",(x=f(\"bp-xc\")).onclick=X.bind(null,0),b[O](x),g=document[V](\"SPAN\"),b[O](g),e[O](b),S=h(1,\"transform:scalex(-1)\"),L=h(-1,\"left:0;right:auto\"),(m=document[V](\"DIV\")).id=\"bp_loader\",m.innerHTML='<svg viewbox=\"0 0 32 32\" fill=\"#fff\" opacity=\".8\"><path d=\"M16 0a16 16 0 0 0 0 32 16 16 0 0 0 0-32m0 4a12 12 0 0 1 0 24 12 12 0 0 1 0-24\" fill=\"#000\" opacity=\".5\"/><path d=\"M16 0a16 16 0 0 1 16 16h-4A12 12 0 0 0 16 4z\"/></svg>',(c=document[V](\"DIV\")).id=\"bp_sv\",(p=document[V](\"IFRAME\")).setAttribute(\"allowfullscreen\",1),p.allow=\"autoplay; fullscreen\",p.onload=function(){return c[N](m)},j(p,\"border:0;position:absolute;height:100%;width:100%;left:0;top:0\"),c[O](p),i.onload=U,i.onerror=U.bind(null,\"image\"),window.addEventListener(\"resize\",function(){y||u&&R(1),o===c&&P()}),document.addEventListener(\"keyup\",function(t){var n=t.keyCode;27===n&&v&&Y(),y&&(39===n&&q(1),37===n&&q(-1),38===n&&q(10),40===n&&q(-10))}),document.addEventListener(\"keydown\",function(t){y&&~[37,38,39,40].indexOf(t.keyCode)&&t.preventDefault()}),document.addEventListener(\"focus\",function(t){v&&!e.contains(t.target)&&(t.stopPropagation(),l.focus())},1),n=1}(w),u&&(clearTimeout(f),$()),z=w,d=w.ytSrc||w.vimeoSrc,T=w.animationStart,k=w.animationEnd,M=w.onChangeImage,_=0,h=(t=w.el).getAttribute(\"data-caption\"),w.gallery?function(n,r){var a=z.galleryAttribute||\"data-bp\";if(Array.isArray(n))A=n,h=n[E=r||0].caption;else{var c=(A=[].slice.call(\"string\"==typeof n?document.querySelectorAll(n+\" [\"+a+\"]\"):n)).indexOf(t);E=0===r||r?r:-1!==c?c:0,A=A.map(function(t){return{el:t,src:t.getAttribute(a),caption:t.getAttribute(\"data-caption\")}})}_=1,!~I.indexOf(s=A[E].src)&&R(1),A.length>1?(e[O](C),C.innerHTML=E+1+\"/\"+A.length,H||(e[O](S),e[O](L))):A=0,(o=i).src=s}(w.gallery,w.position):d||w.iframeSrc?(o=c,z.ytSrc?W=\"https://www.youtube\"+(z.ytNoCookie?\"-nocookie\":\"\")+\".com/embed/\"+d+\"?html5=1&rel=0&playsinline=1&autoplay=1\":z.vimeoSrc?W=\"https://player.vimeo.com/video/\"+d+\"?autoplay=1\":z.iframeSrc&&(W=z.iframeSrc),j(m,\"\"),c[O](m),p.src=W,P(),setTimeout(U,9)):w.imgSrc?(_=1,!~I.indexOf(s=w.imgSrc)&&R(1),(o=i).src=s):w.audio?(R(1),(o=a).src=w.audio,G(\"audio file\")):w.vidSrc?(R(1),w.dimensions&&j(r,\"width:\"+w.dimensions[0]+\"px\"),D=w.vidSrc,Array.isArray(D)?(o=r.cloneNode(),D.forEach(function(t){var n=document[V](\"SOURCE\");n.src=t,n.type=\"video/\"+t.match(/.(\\w+)$/)[1],o[O](n)})):(o=r).src=D,G(\"video\")):(o=i).src=\"IMG\"===t.tagName?t.src:window.getComputedStyle(t).backgroundImage.replace(/^url|[(|)|'|\"]/g,\"\"),e[O](o),document.body[O](e),{close:Y,opts:z,updateDimensions:P,display:o,next:function(){return q(1)},prev:function(){return q(-1)}};var W}}();\n","/**\n * tua-body-scroll-lock v1.4.0\n * (c) 2023 Evinma, BuptStEve\n * @license MIT\n */\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],t):t((e=\"undefined\"!=typeof globalThis?globalThis:e||self).bodyScrollLock={})}(this,(function(e){\"use strict\";var t=function(){return\"undefined\"==typeof window},o=function(e){e=e||navigator.userAgent;var t=/(iPad).*OS\\s([\\d_]+)/.test(e);return{ios:!t&&/(iPhone\\sOS)\\s([\\d_]+)/.test(e)||t,android:/(Android);?[\\s/]+([\\d.]+)?/.test(e)}};var n=0,i=0,r=0,s=null,l=!1,c=[],d=function(e){if(t())return!1;if(!e)throw new Error(\"options must be provided\");var o=!1,n={get passive(){o=!0}},i=function(){},r=\"__TUA_BSL_TEST_PASSIVE__\";window.addEventListener(r,i,n),window.removeEventListener(r,i,n);var s=e.capture;return o?e:void 0!==s&&s}({passive:!1}),u=!t()&&\"scrollBehavior\"in document.documentElement.style,f=function(e){e.cancelable&&e.preventDefault()};e.clearBodyLocks=function(){if(!t())if(n=0,o().ios||\"function\"!=typeof s){if(c.length)for(var e=c.pop();e;)e.ontouchmove=null,e.ontouchstart=null,e=c.pop();l&&(document.removeEventListener(\"touchmove\",f,d),l=!1)}else s()},e.lock=function(e,a){if(!t()){if(o().ios){if(e)(Array.isArray(e)?e:[e]).forEach((function(e){e&&-1===c.indexOf(e)&&(e.ontouchstart=function(e){i=e.targetTouches[0].clientY,r=e.targetTouches[0].clientX},e.ontouchmove=function(t){1===t.targetTouches.length&&function(e,t){if(t){var o=t.scrollTop,n=t.scrollLeft,s=t.scrollWidth,l=t.scrollHeight,c=t.clientWidth,d=t.clientHeight,u=e.targetTouches[0].clientX-r,a=e.targetTouches[0].clientY-i,h=Math.abs(a)>Math.abs(u);if(h&&(a>0&&0===o||a<0&&o+d+1>=l)||!h&&(u>0&&0===n||u<0&&n+c+1>=s))return f(e)}e.stopPropagation()}(t,e)},c.push(e))}));l||(document.addEventListener(\"touchmove\",f,d),l=!0)}else n<=0&&(s=o().android?function(e){var t=document.documentElement,o=document.body,n=t.scrollTop||o.scrollTop,i=Object.assign({},t.style),r=Object.assign({},o.style);return t.style.height=\"100%\",t.style.overflow=\"hidden\",o.style.top=\"-\".concat(n,\"px\"),o.style.width=\"100%\",o.style.height=\"auto\",o.style.position=\"fixed\",o.style.overflow=(null==e?void 0:e.overflowType)||\"hidden\",function(){t.style.height=i.height||\"\",t.style.overflow=i.overflow||\"\",[\"top\",\"width\",\"height\",\"overflow\",\"position\"].forEach((function(e){o.style[e]=r[e]||\"\"}));var e={top:n,behavior:\"instant\"};u?window.scrollTo(e):window.scrollTo(0,n)}}(a):(h=document.documentElement,v=Object.assign({},h.style),p=window.innerWidth-h.clientWidth,y=parseInt(window.getComputedStyle(h).paddingRight,10),h.style.overflow=\"hidden\",h.style.boxSizing=\"border-box\",h.style.paddingRight=\"\".concat(p+y,\"px\"),function(){[\"overflow\",\"boxSizing\",\"paddingRight\"].forEach((function(e){h.style[e]=v[e]||\"\"}))}));var h,v,p,y;n+=1}},e.unlock=function(e){if(!(t()||(n-=1)>0))if(o().ios||\"function\"!=typeof s){if(e)(Array.isArray(e)?e:[e]).forEach((function(e){var t=c.indexOf(e);-1!==t&&(e.ontouchmove=null,e.ontouchstart=null,c.splice(t,1))}));l&&(document.removeEventListener(\"touchmove\",f,d),l=!1)}else s()}}));\n"]}